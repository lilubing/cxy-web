{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js!/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/work/webworkspace/cxy-web/src/views/system/user/components/AddDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/views/system/user/components/AddDialog.vue","mtime":1610363418654},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3dvcmsvd2Vid29ya3NwYWNlL2N4eS13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvd29yay93ZWJ3b3Jrc3BhY2UvY3h5LXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdHlsZTogewogICAgICAgIGFkZERpYWxvZzogewogICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICBtYXJnaW5SaWdodDogJzhweCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgdXNlck1vZGVsOiB7CiAgICAgICAgdXNlck5hbWU6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHN1cm5hbWU6ICcnLAogICAgICAgIGVtYWlsQWRkcmVzczogJycsCiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLAogICAgICAgIHJvbGVOYW1lczogW10sCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlck5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflv4XloavpgInpobknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+W/heWhq+mAiemhuScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBzdXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5b+F5aGr6YCJ6aG5JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGVtYWlsQWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+W/heWhq+mAiemhuScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+W/heWhq+mAiemhuScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBwcm9wczoge30sCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnODBweCcKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCdkMmFkbWluL2FjY291bnQnLCBbJ0dldEFsbFVzZXInLCAnVXNlckNyZWF0ZU9yVXBkYXRlJ10pKSwge30sIHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5Vc2VyQ3JlYXRlT3JVcGRhdGUoX3RoaXMudXNlck1vZGVsKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKn++8gScpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnI6ICcsIHJlcy5lcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coJ2VycjogJywgZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["AddDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,SAAA,EAAA;AACA,UAAA,OAAA,EAAA,cADA;AAEA,UAAA,WAAA,EAAA;AAFA;AADA,OADA;AAOA,MAAA,iBAAA,EAAA,KAPA;AAQA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA,EAHA;AAIA,QAAA,YAAA,EAAA,EAJA;AAKA,QAAA,QAAA,EAAA,KALA;AAMA,QAAA,SAAA,EAAA,EANA;AAOA,QAAA,QAAA,EAAA;AAPA,OARA;AAiBA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CAFA;AAGA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CAHA;AAIA,QAAA,YAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAJA;AAOA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAPA,OAjBA;AA0BA,MAAA,KAAA,EAAA,EA1BA;AA2BA,MAAA,cAAA,EAAA;AA3BA,KAAA;AA6BA,GA/BA;AAgCA,EAAA,QAAA,EAAA,EAhCA;AAiCA,EAAA,OAAA,kCACA,UAAA,CAAA,iBAAA,EAAA,CAAA,YAAA,EAAA,oBAAA,CAAA,CADA;AAEA,IAAA,YAFA,wBAEA,QAFA,EAEA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,CAAA,KAAA,EAAA;AACA,iBAAA,KAAA;AACA;;AACA,QAAA,KAAA,CAAA,kBAAA,CAAA,KAAA,CAAA,SAAA,EACA,IADA;AAAA,6EACA,iBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AACA,wBAAA,GAAA,CAAA,OAAA,EAAA;AACA,sBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AACA,sBAAA,KAAA,CAAA,iBAAA,GAAA,KAAA;AACA,qBAHA,MAGA;AACA,sBAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA,CAAA,KAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADA;;AAAA;AAAA;AAAA;AAAA,aASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA;AACA,SAXA;AAYA,OAhBA;AAiBA;AApBA;AAjCA,CAAA","sourcesContent":["<template>\n  <div :style=\"style.addDialog\">\n    <el-button\n      icon=\"el-icon-plus\"\n      type=\"primary\"\n      size=\"small\"\n      @click=\"dialogFormVisible = true\"\n    >新增</el-button>\n    <el-dialog title=\"新增用户\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"ruleForm\" :model=\"userModel\" :rules=\"rules\">\n        <el-form-item\n          label=\"用户名\"\n          :label-width=\"formLabelWidth\"\n          prop=\"userName\"\n        >\n          <el-input v-model=\"userModel.userName\" />\n        </el-form-item>\n        <el-form-item label=\"姓\" :label-width=\"formLabelWidth\" prop=\"name\">\n          <el-input v-model=\"userModel.name\" />\n        </el-form-item>\n        <el-form-item label=\"名\" :label-width=\"formLabelWidth\" prop=\"surname\">\n          <el-input v-model=\"userModel.surname\" />\n        </el-form-item>\n        <el-form-item\n          label=\"电子邮箱\"\n          :label-width=\"formLabelWidth\"\n          prop=\"emailAddress\"\n        >\n          <el-input v-model=\"userModel.emailAddress\" />\n        </el-form-item>\n        <el-form-item\n          label=\"有效\"\n          :label-width=\"formLabelWidth\"\n          prop=\"isActive\"\n        >\n          <el-switch v-model=\"userModel.isActive\" />\n        </el-form-item>\n        <el-form-item\n          label=\"密码\"\n          :label-width=\"formLabelWidth\"\n          prop=\"password\"\n        >\n          <el-input v-model=\"userModel.password\" type=\"password\" />\n        </el-form-item>\n        <el-form-item\n          label=\"权限组\"\n          :label-width=\"formLabelWidth\"\n          prop=\"roleNames\"\n        >\n          <el-checkbox-group v-model=\"userModel.roleNames\">\n            <el-checkbox label=\"Admin\" />\n            <el-checkbox label=\"Guest\" />\n          </el-checkbox-group>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"handleSubmit('ruleForm')\"\n        >确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  data() {\n    return {\n      style: {\n        addDialog: {\n          display: 'inline-block',\n          marginRight: '8px'\n        }\n      },\n      dialogFormVisible: false,\n      userModel: {\n        userName: '',\n        name: '',\n        surname: '',\n        emailAddress: '',\n        isActive: false,\n        roleNames: [],\n        password: ''\n      },\n      rules: {\n        userName: [{ required: true, message: '必填选项', trigger: 'blur' }],\n        name: [{ required: true, message: '必填选项', trigger: 'blur' }],\n        surname: [{ required: true, message: '必填选项', trigger: 'blur' }],\n        emailAddress: [\n          { required: true, message: '必填选项', trigger: 'blur' }\n        ],\n        password: [{ required: true, message: '必填选项', trigger: 'blur' }]\n      },\n      props: {},\n      formLabelWidth: '80px'\n    }\n  },\n  computed: {},\n  methods: {\n    ...mapActions('d2admin/account', ['GetAllUser', 'UserCreateOrUpdate']),\n    handleSubmit(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (!valid) {\n          return false\n        }\n        this.UserCreateOrUpdate(this.userModel)\n          .then(async(res) => {\n            if (res.success) {\n              this.$message.success('添加成功！')\n              this.dialogFormVisible = false\n            } else {\n              console.log('err: ', res.error)\n            }\n          })\n          .catch((err) => {\n            console.log('err: ', err)\n          })\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/system/user/components"}]}