{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/work/webworkspace/cxy-web/src/views/system/user/components/AddDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/views/system/user/components/AddDialog.vue","mtime":1610363418654},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgYWRkRGlhbG9nOiB7CiAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywKICAgICAgICAgIG1hcmdpblJpZ2h0OiAnOHB4JwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICB1c2VyTW9kZWw6IHsKICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc3VybmFtZTogJycsCiAgICAgICAgZW1haWxBZGRyZXNzOiAnJywKICAgICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgICAgcm9sZU5hbWVzOiBbXSwKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VyTmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflv4XloavpgInpobknLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgbmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflv4XloavpgInpobknLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgc3VybmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflv4XloavpgInpobknLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgZW1haWxBZGRyZXNzOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5b+F5aGr6YCJ6aG5JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+W/heWhq+mAiemhuScsIHRyaWdnZXI6ICdibHVyJyB9XQogICAgICB9LAogICAgICBwcm9wczoge30sCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnODBweCcKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCdkMmFkbWluL2FjY291bnQnLCBbJ0dldEFsbFVzZXInLCAnVXNlckNyZWF0ZU9yVXBkYXRlJ10pLAogICAgaGFuZGxlU3VibWl0KGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgICB0aGlzLlVzZXJDcmVhdGVPclVwZGF0ZSh0aGlzLnVzZXJNb2RlbCkKICAgICAgICAgIC50aGVuKGFzeW5jKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKn++8gScpCiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycjogJywgcmVzLmVycm9yKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycjogJywgZXJyKQogICAgICAgICAgfSkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["AddDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddDialog.vue","sourceRoot":"src/views/system/user/components","sourcesContent":["<template>\n  <div :style=\"style.addDialog\">\n    <el-button\n      icon=\"el-icon-plus\"\n      type=\"primary\"\n      size=\"small\"\n      @click=\"dialogFormVisible = true\"\n    >新增</el-button>\n    <el-dialog title=\"新增用户\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"ruleForm\" :model=\"userModel\" :rules=\"rules\">\n        <el-form-item\n          label=\"用户名\"\n          :label-width=\"formLabelWidth\"\n          prop=\"userName\"\n        >\n          <el-input v-model=\"userModel.userName\" />\n        </el-form-item>\n        <el-form-item label=\"姓\" :label-width=\"formLabelWidth\" prop=\"name\">\n          <el-input v-model=\"userModel.name\" />\n        </el-form-item>\n        <el-form-item label=\"名\" :label-width=\"formLabelWidth\" prop=\"surname\">\n          <el-input v-model=\"userModel.surname\" />\n        </el-form-item>\n        <el-form-item\n          label=\"电子邮箱\"\n          :label-width=\"formLabelWidth\"\n          prop=\"emailAddress\"\n        >\n          <el-input v-model=\"userModel.emailAddress\" />\n        </el-form-item>\n        <el-form-item\n          label=\"有效\"\n          :label-width=\"formLabelWidth\"\n          prop=\"isActive\"\n        >\n          <el-switch v-model=\"userModel.isActive\" />\n        </el-form-item>\n        <el-form-item\n          label=\"密码\"\n          :label-width=\"formLabelWidth\"\n          prop=\"password\"\n        >\n          <el-input v-model=\"userModel.password\" type=\"password\" />\n        </el-form-item>\n        <el-form-item\n          label=\"权限组\"\n          :label-width=\"formLabelWidth\"\n          prop=\"roleNames\"\n        >\n          <el-checkbox-group v-model=\"userModel.roleNames\">\n            <el-checkbox label=\"Admin\" />\n            <el-checkbox label=\"Guest\" />\n          </el-checkbox-group>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"handleSubmit('ruleForm')\"\n        >确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  data() {\n    return {\n      style: {\n        addDialog: {\n          display: 'inline-block',\n          marginRight: '8px'\n        }\n      },\n      dialogFormVisible: false,\n      userModel: {\n        userName: '',\n        name: '',\n        surname: '',\n        emailAddress: '',\n        isActive: false,\n        roleNames: [],\n        password: ''\n      },\n      rules: {\n        userName: [{ required: true, message: '必填选项', trigger: 'blur' }],\n        name: [{ required: true, message: '必填选项', trigger: 'blur' }],\n        surname: [{ required: true, message: '必填选项', trigger: 'blur' }],\n        emailAddress: [\n          { required: true, message: '必填选项', trigger: 'blur' }\n        ],\n        password: [{ required: true, message: '必填选项', trigger: 'blur' }]\n      },\n      props: {},\n      formLabelWidth: '80px'\n    }\n  },\n  computed: {},\n  methods: {\n    ...mapActions('d2admin/account', ['GetAllUser', 'UserCreateOrUpdate']),\n    handleSubmit(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (!valid) {\n          return false\n        }\n        this.UserCreateOrUpdate(this.userModel)\n          .then(async(res) => {\n            if (res.success) {\n              this.$message.success('添加成功！')\n              this.dialogFormVisible = false\n            } else {\n              console.log('err: ', res.error)\n            }\n          })\n          .catch((err) => {\n            console.log('err: ', err)\n          })\n      })\n    }\n  }\n}\n</script>\n"]}]}