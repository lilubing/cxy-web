{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js!/Users/work/webworkspace/cxy-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/work/webworkspace/cxy-web/src/views/system/menu-button/customEval.js","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/views/system/menu-button/customEval.js","mtime":1610775756788},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiogQEF1dGhvcjogamlhbmdsZWkKKiBARGF0ZTogICAyMDE3LTEwLTEyIDEyOjA2OjQ5CiovCid1c2Ugc3RyaWN0JzsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyZWVUb0FycmF5KGRhdGEsIGV4cGFuZEFsbCwgcGFyZW50LCBsZXZlbCwgaXRlbSkgewogIHZhciBtYXJMVGVtcCA9IFtdOwogIHZhciB0bXAgPSBbXTsKICBBcnJheS5mcm9tKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKHJlY29yZCkgewogICAgaWYgKHJlY29yZC5fZXhwYW5kZWQgPT09IHVuZGVmaW5lZCkgewogICAgICBWdWUuc2V0KHJlY29yZCwgJ19leHBhbmRlZCcsIGV4cGFuZEFsbCk7CiAgICB9CgogICAgdmFyIF9sZXZlbCA9IDE7CgogICAgaWYgKGxldmVsICE9PSB1bmRlZmluZWQgJiYgbGV2ZWwgIT09IG51bGwpIHsKICAgICAgX2xldmVsID0gbGV2ZWwgKyAxOwogICAgfQoKICAgIFZ1ZS5zZXQocmVjb3JkLCAnX2xldmVsJywgX2xldmVsKTsgLy8g5aaC5p6c5pyJ54i25YWD57SgCgogICAgaWYgKHBhcmVudCkgewogICAgICBWdWUuc2V0KHJlY29yZCwgJ3BhcmVudCcsIHBhcmVudCk7IC8vIOWmguaenOeItuWFg+e0oOacieWBj+enu+mHj++8jOmcgOimgeiuoeeul+WcqHRoaXPnmoTlgY/np7vph4/kuK0KICAgICAgLy8g5YGP56e76YeP6L+Y5LiO5YmN6Z2i5ZCM57qn5YWD57Sg5pyJ5YWz77yM6ZyA6KaB5Yqg5LiK5YmN6Z2i5omA5pyJ5YWD57Sg55qE6ZW/5bqm5ZKMCgogICAgICBpZiAoIW1hckxUZW1wW19sZXZlbF0pIHsKICAgICAgICBtYXJMVGVtcFtfbGV2ZWxdID0gMDsKICAgICAgfQoKICAgICAgVnVlLnNldChyZWNvcmQsICdfbWFyZ2luTGVmdCcsIG1hckxUZW1wW19sZXZlbF0gKyBwYXJlbnQuX21hcmdpbkxlZnQpOwogICAgICBWdWUuc2V0KHJlY29yZCwgJ193aWR0aCcsIHJlY29yZFtpdGVtXSAvIHBhcmVudFtpdGVtXSAqIHBhcmVudC5fd2lkdGgpOyAvLyDlnKjmnKzmrKHorqHnrpfov4flgY/np7vph4/lkI7liqDkuIroh6rlt7Hplb/luqbvvIzku6XkvpvkuIvkuIDkuKrlhYPntKDkvb/nlKgKCiAgICAgIG1hckxUZW1wW19sZXZlbF0gKz0gcmVjb3JkLl93aWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOWmguaenOS4uuaguQogICAgICAvLyDliJ3lp4vljJblgY/np7vph4/lrZjlgqhtYXAKICAgICAgbWFyTFRlbXBbcmVjb3JkLmlkXSA9IFtdOyAvLyBtYXDkuK3mmK/kuIDkuKrmlbDnu4TvvIzlrZjlgqjnmoTmmK/mr4/nuqfnmoTplb/luqblkowKICAgICAgLy8g5Yid5aeL5oOF5Ya15LiL5Li6MAoKICAgICAgbWFyTFRlbXBbcmVjb3JkLmlkXVtfbGV2ZWxdID0gMDsKICAgICAgVnVlLnNldChyZWNvcmQsICdfbWFyZ2luTGVmdCcsIDApOwogICAgICBWdWUuc2V0KHJlY29yZCwgJ193aWR0aCcsIDEpOwogICAgfQoKICAgIHRtcC5wdXNoKHJlY29yZCk7CgogICAgaWYgKHJlY29yZC5jaGlsZHJlbiAmJiByZWNvcmQuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICB2YXIgY2hpbGRyZW4gPSB0cmVlVG9BcnJheShyZWNvcmQuY2hpbGRyZW4sIGV4cGFuZEFsbCwgcmVjb3JkLCBfbGV2ZWwsIGl0ZW0pOwogICAgICB0bXAgPSB0bXAuY29uY2F0KGNoaWxkcmVuKTsKICAgIH0KICB9KTsKICByZXR1cm4gdG1wOwp9"},{"version":3,"sources":["/Users/work/webworkspace/cxy-web/src/views/system/menu-button/customEval.js"],"names":["Vue","treeToArray","data","expandAll","parent","level","item","marLTemp","tmp","Array","from","forEach","record","_expanded","undefined","set","_level","_marginLeft","_width","id","push","children","length","concat"],"mappings":"AAAA;;;;AAIA;;;;;;;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,eAAe,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,SAA3B,EAAsCC,MAAtC,EAA8CC,KAA9C,EAAqDC,IAArD,EAA2D;AACxE,MAAMC,QAAQ,GAAG,EAAjB;AACA,MAAIC,GAAG,GAAG,EAAV;AACAC,EAAAA,KAAK,CAACC,IAAN,CAAWR,IAAX,EAAiBS,OAAjB,CAAyB,UAASC,MAAT,EAAiB;AACxC,QAAIA,MAAM,CAACC,SAAP,KAAqBC,SAAzB,EAAoC;AAClCd,MAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,WAAhB,EAA6BT,SAA7B;AACD;;AACD,QAAIa,MAAM,GAAG,CAAb;;AACA,QAAIX,KAAK,KAAKS,SAAV,IAAuBT,KAAK,KAAK,IAArC,EAA2C;AACzCW,MAAAA,MAAM,GAAGX,KAAK,GAAG,CAAjB;AACD;;AACDL,IAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,QAAhB,EAA0BI,MAA1B,EARwC,CASxC;;AACA,QAAIZ,MAAJ,EAAY;AACVJ,MAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,QAAhB,EAA0BR,MAA1B,EADU,CAEV;AACA;;AACA,UAAI,CAACG,QAAQ,CAACS,MAAD,CAAb,EAAuB;AACrBT,QAAAA,QAAQ,CAACS,MAAD,CAAR,GAAmB,CAAnB;AACD;;AACDhB,MAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,aAAhB,EAA+BL,QAAQ,CAACS,MAAD,CAAR,GAAmBZ,MAAM,CAACa,WAAzD;AACAjB,MAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,QAAhB,EAA0BA,MAAM,CAACN,IAAD,CAAN,GAAeF,MAAM,CAACE,IAAD,CAArB,GAA8BF,MAAM,CAACc,MAA/D,EARU,CASV;;AACAX,MAAAA,QAAQ,CAACS,MAAD,CAAR,IAAoBJ,MAAM,CAACM,MAA3B;AACD,KAXD,MAWO;AACL;AACA;AACAX,MAAAA,QAAQ,CAACK,MAAM,CAACO,EAAR,CAAR,GAAsB,EAAtB,CAHK,CAIL;AACA;;AACAZ,MAAAA,QAAQ,CAACK,MAAM,CAACO,EAAR,CAAR,CAAoBH,MAApB,IAA8B,CAA9B;AACAhB,MAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,aAAhB,EAA+B,CAA/B;AACAZ,MAAAA,GAAG,CAACe,GAAJ,CAAQH,MAAR,EAAgB,QAAhB,EAA0B,CAA1B;AACD;;AACDJ,IAAAA,GAAG,CAACY,IAAJ,CAASR,MAAT;;AACA,QAAIA,MAAM,CAACS,QAAP,IAAmBT,MAAM,CAACS,QAAP,CAAgBC,MAAhB,GAAyB,CAAhD,EAAmD;AACjD,UAAMD,QAAQ,GAAGpB,WAAW,CAACW,MAAM,CAACS,QAAR,EAAkBlB,SAAlB,EAA6BS,MAA7B,EAAqCI,MAArC,EAA6CV,IAA7C,CAA5B;AACAE,MAAAA,GAAG,GAAGA,GAAG,CAACe,MAAJ,CAAWF,QAAX,CAAN;AACD;AACF,GApCD;AAqCA,SAAOb,GAAP;AACD","sourcesContent":["/**\n* @Author: jianglei\n* @Date:   2017-10-12 12:06:49\n*/\n'use strict'\nimport Vue from 'vue'\nexport default function treeToArray(data, expandAll, parent, level, item) {\n  const marLTemp = []\n  let tmp = []\n  Array.from(data).forEach(function(record) {\n    if (record._expanded === undefined) {\n      Vue.set(record, '_expanded', expandAll)\n    }\n    let _level = 1\n    if (level !== undefined && level !== null) {\n      _level = level + 1\n    }\n    Vue.set(record, '_level', _level)\n    // 如果有父元素\n    if (parent) {\n      Vue.set(record, 'parent', parent)\n      // 如果父元素有偏移量，需要计算在this的偏移量中\n      // 偏移量还与前面同级元素有关，需要加上前面所有元素的长度和\n      if (!marLTemp[_level]) {\n        marLTemp[_level] = 0\n      }\n      Vue.set(record, '_marginLeft', marLTemp[_level] + parent._marginLeft)\n      Vue.set(record, '_width', record[item] / parent[item] * parent._width)\n      // 在本次计算过偏移量后加上自己长度，以供下一个元素使用\n      marLTemp[_level] += record._width\n    } else {\n      // 如果为根\n      // 初始化偏移量存储map\n      marLTemp[record.id] = []\n      // map中是一个数组，存储的是每级的长度和\n      // 初始情况下为0\n      marLTemp[record.id][_level] = 0\n      Vue.set(record, '_marginLeft', 0)\n      Vue.set(record, '_width', 1)\n    }\n    tmp.push(record)\n    if (record.children && record.children.length > 0) {\n      const children = treeToArray(record.children, expandAll, record, _level, item)\n      tmp = tmp.concat(children)\n    }\n  })\n  return tmp\n}\n"]}]}