{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js!/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/work/webworkspace/cxy-web/src/views/system/user/AddForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/views/system/user/AddForm.vue","mtime":1610932810010},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JyovCmltcG9ydCB7IGFkZFVzZXIgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgcXVlcnlSb2xlU2VsZWN0TGlzdCB9IGZyb20gJ0AvYXBpL3JvbGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZEZyb20nLAogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvcmVxdWlyZS1wcm9wLXR5cGVzCiAgcHJvcHM6IFsndmlzYWJsZSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb2xlczogW10sCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgcmVhbE5hbWU6ICcnLAogICAgICAgIG1vYmlsZVBob25lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgc2V4OiAnMCcsCiAgICAgICAgcm9sZXNMaXN0OiBbXQogICAgICB9LAogICAgICBpbml0Rm9ybTogewogICAgICAgIHVzZXJOYW1lOiAnJywKICAgICAgICByZWFsTmFtZTogJycsCiAgICAgICAgbW9iaWxlUGhvbmU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBzZXg6ICcwJywKICAgICAgICByb2xlc0xpc3Q6IFtdCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlck5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3lubbog73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogYmx1cgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1heDogOCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMyDliLAgNSDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcm9sZXNMaXN0OiBbewogICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+iHs+WwkemAieaLqeS4gOS4quinkuiJsicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBlbWFpbDogW3sKICAgICAgICAgIHR5cGU6ICdlbWFpbCcsCiAgICAgICAgICAvLyDopoHmo4DpqoznmoTnsbvlnovvvIhudW1iZXLvvIxlbWFpbO+8jGRhdGXnrYnvvIkKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTpgq7nrrHlnLDlnYAnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddLAogICAgICAgICAgLy8gaGFuZ2XkuLrmo4DpqoznmoTlrZfnrKblj5jljJbnmoTml7blgJkKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfV0sCiAgICAgICAgbW9iaWxlUGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHBhdHRlcm46IC9eMVszNDU3OF1cZHs5fSQvLAogICAgICAgICAgLy8g5Y+v5Lul5YaZ5q2j5YiZ6KGo6L6+5byPCiAgICAgICAgICBtZXNzYWdlOiAn55uu5YmN5Y+q5pSv5oyB5Lit5Zu95aSn6ZmG55qE5omL5py65Y+356CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKCiAgLyogY29tcHV0ZWQ6ewogICAgICAuLi5tYXBHZXR0ZXJzKFsndmlzYWJsZSddKQogICAgfSwqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJvbGVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChmb3JtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1dLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgYWRkVXNlcihfdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpcy5oYW5kbGVIaWRlKCk7CgogICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnZ2V0VXNlckxpc3QnKTsKCiAgICAgICAgICAgICAgX3RoaXMuZm9ybSA9IF90aGlzLmluaXRGb3JtOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUhpZGU6IGZ1bmN0aW9uIGhhbmRsZUhpZGUoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUFkZEhpZGUnKTsKICAgIH0sCiAgICBnZXRSb2xlTGlzdDogZnVuY3Rpb24gZ2V0Um9sZUxpc3QoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcXVlcnlSb2xlU2VsZWN0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoYXQucm9sZXMgPSBkYXRhLmRhdGEucm93czsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AddForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-dialog\n    title=\"添加\"\n    :visible=\"visable\"\n    width=\"40%\"\n    :modal=\"false\"\n    :show-close=\"false\"\n  >\n    <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"80px\">\n      <el-form-item label=\"用户名\" prop=\"userName\">\n        <el-input v-model=\"form.userName\" />\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input v-model=\"form.realName\" />\n      </el-form-item>\n      <el-form-item label=\"密码\">\n        <el-input v-model=\"form.passWord\" />\n      </el-form-item>\n      <el-form-item label=\"手机号\" prop=\"mobilePhone\">\n        <el-input v-model=\"form.mobilePhone\" />\n      </el-form-item>\n      <el-form-item label=\"邮件\" prop=\"email\">\n        <el-input v-model=\"form.email\" />\n      </el-form-item>\n      <el-form-item label=\"性别\">\n        <el-radio-group v-model=\"form.sex\">\n          <el-radio border label=\"0\">男</el-radio>\n          <el-radio border label=\"1\">女</el-radio>\n        </el-radio-group>\n        <!--label=\"男\"-->\n      </el-form-item>\n\n      <el-form-item label=\"角色\" prop=\"rolesList\">\n        <el-select v-model=\"form.rolesList\" filterable multiple placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in roles\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          />\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"handleHide\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit('form')\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\n/* import { mapGetters } from 'vuex'*/\nimport { addUser } from '@/api/user'\nimport { queryRoleSelectList } from '@/api/role'\nexport default {\n  name: 'AddFrom',\n  // eslint-disable-next-line vue/require-prop-types\n  props: ['visable'],\n  data() {\n    return {\n      roles: [],\n      form: {\n        userName: '',\n        realName: '',\n        mobilePhone: '',\n        email: '',\n        sex: '0',\n        rolesList: []\n      },\n      initForm: {\n        userName: '',\n        realName: '',\n        mobilePhone: '',\n        email: '',\n        sex: '0',\n        rolesList: []\n      },\n      rules: {\n        userName: [\n          { required: true, message: '用户名并能为空', trigger: blur },\n          { min: 1, max: 8, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n        ],\n        rolesList: [\n          { type: 'array', required: true, message: '请至少选择一个角色', trigger: 'blur' }\n        ],\n        email: [\n          { type: 'email', // 要检验的类型（number，email，date等）\n            message: '请输入正确的邮箱地址',\n            trigger: ['blur', 'change'], // hange为检验的字符变化的时候\n            required: true\n          }\n        ],\n        mobilePhone: [\n          {\n            required: true,\n            pattern: /^1[34578]\\d{9}$/, // 可以写正则表达式\n            message: '目前只支持中国大陆的手机号码',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  /* computed:{\n      ...mapGetters(['visable'])\n    },*/\n  created() {\n    this.getRoleList()\n  },\n  methods: {\n    handleSubmit(form) {\n      this.$refs[form].validate((valid) => {\n        if (valid) {\n          addUser(this.form).then((response) => {\n            this.handleHide()\n            const data = response.data\n            if (data.code === 200) {\n              this.$message({\n                showClose: true,\n                message: '添加成功',\n                type: 'success'\n              })\n              this.$emit('getUserList')\n              this.form = this.initForm\n            }\n          }).catch(error => {\n            console.log(error)\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    handleHide() {\n      this.$emit('handleAddHide')\n    },\n    getRoleList() {\n      const that = this\n      queryRoleSelectList().then((response) => {\n        const data = response.data\n        that.roles = data.data.rows\n      }).catch(error => {\n        console.log(error)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/views/system/user"}]}