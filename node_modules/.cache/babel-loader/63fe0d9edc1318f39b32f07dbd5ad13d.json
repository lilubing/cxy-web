{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js!/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/work/webworkspace/cxy-web/src/components/TreeTable/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/components/TreeTable/index.vue","mtime":1610781046936},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogIEF1dGg6IExlaS5qMWFuZwogIENyZWF0ZWQ6IDIwMTgvMS8xOS0xMzo1OQoqLwppbXBvcnQgdHJlZVRvQXJyYXkgZnJvbSAnLi9ldmFsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUcmVlVGFibGUnLAogIHByb3BzOiB7CiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLwogICAgZGF0YTogewogICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY29sdW1uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgZXZhbEZ1bmM6IEZ1bmN0aW9uLAogICAgZXZhbEFyZ3M6IEFycmF5LAogICAgZXhwYW5kQWxsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5qC85byP5YyW5pWw5o2u5rqQCiAgICBmb3JtYXREYXRhOiBmdW5jdGlvbiBmb3JtYXREYXRhKCkgewogICAgICAvLyBkZWJ1Z2dlcgogICAgICB2YXIgdG1wOwoKICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZGF0YSkpIHsKICAgICAgICB0bXAgPSBbdGhpcy5kYXRhXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0bXAgPSB0aGlzLmRhdGE7CiAgICAgIH0KCiAgICAgIHZhciBmdW5jID0gdGhpcy5ldmFsRnVuYyB8fCB0cmVlVG9BcnJheTsgLy8gY29uc3QgYXJncyA9IHRoaXMuZXZhbEFyZ3MgPyBBcnJheS5jb25jYXQoW3RtcCwgdGhpcy5leHBhbmRBbGxdLCB0aGlzLmV2YWxBcmdzKSA6IFt0bXAsIHRoaXMuZXhwYW5kQWxsXQoKICAgICAgdmFyIGFyZ3MgPSB0aGlzLmV2YWxBcmdzID8gW3RtcCwgdGhpcy5leHBhbmRBbGxdLmNvbmNhdCh0aGlzLmV2YWxBcmdzKSA6IFt0bXAsIHRoaXMuZXhwYW5kQWxsXTsKICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93Um93OiBmdW5jdGlvbiBzaG93Um93KHJvdykgewogICAgICAvLyBkZWJ1Z2dlcgogICAgICB2YXIgc2hvdyA9IHJvdy5yb3cucGFyZW50ID8gcm93LnJvdy5wYXJlbnQuX2V4cGFuZGVkICYmIHJvdy5yb3cucGFyZW50Ll9zaG93IDogdHJ1ZTsKICAgICAgcm93LnJvdy5fc2hvdyA9IHNob3c7CiAgICAgIHJldHVybiBzaG93ID8gJ2FuaW1hdGlvbjp0cmVlVGFibGVTaG93IDFzOy13ZWJraXQtYW5pbWF0aW9uOnRyZWVUYWJsZVNob3cgMXM7JyA6ICdkaXNwbGF5Om5vbmU7JzsKICAgIH0sCiAgICAvLyDliIfmjaLkuIvnuqfmmK/lkKblsZXlvIAKICAgIHRvZ2dsZUV4cGFuZGVkOiBmdW5jdGlvbiB0b2dnbGVFeHBhbmRlZCh0ckluZGV4KSB7CiAgICAgIC8vIGRlYnVnZ2VyCiAgICAgIHZhciByZWNvcmQgPSB0aGlzLmZvcm1hdERhdGFbdHJJbmRleF07CiAgICAgIHJlY29yZC5fZXhwYW5kZWQgPSAhcmVjb3JkLl9leHBhbmRlZDsKICAgIH0sCiAgICAvLyDlm77moIfmmL7npLoKICAgIGljb25TaG93OiBmdW5jdGlvbiBpY29uU2hvdyhpbmRleCwgcmVjb3JkKSB7CiAgICAgIHJldHVybiBpbmRleCA9PT0gMCAmJiByZWNvcmQuY2hpbGRyZW4gJiYgcmVjb3JkLmNoaWxkcmVuLmxlbmd0aCA+IDA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;;;AAIA,OAAA,WAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,KAAA,EAAA,MAAA,CADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAFA;AAMA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KANA;AAUA,IAAA,QAAA,EAAA,QAVA;AAWA,IAAA,QAAA,EAAA,KAXA;AAYA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAZA,GAFA;AAmBA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA;AACA,UAAA,GAAA;;AACA,UAAA,CAAA,KAAA,CAAA,OAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA,QAAA,GAAA,GAAA,CAAA,KAAA,IAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,GAAA,GAAA,KAAA,IAAA;AACA;;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,IAAA,WAAA,CARA,CASA;;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,GAAA,CAAA,GAAA,EAAA,KAAA,SAAA,EAAA,MAAA,CAAA,KAAA,QAAA,CAAA,GAAA,CAAA,GAAA,EAAA,KAAA,SAAA,CAAA;AACA,aAAA,IAAA,CAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA;AACA;AAdA,GAnBA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,iBAAA,GAAA,EAAA;AACA;AACA,UAAA,IAAA,GAAA,GAAA,CAAA,GAAA,CAAA,MAAA,GAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA,IAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,GAAA,CAAA,KAAA,GAAA,IAAA;AACA,aAAA,IAAA,GAAA,gEAAA,GAAA,eAAA;AACA,KANA;AAOA;AACA,IAAA,cAAA,EAAA,wBAAA,OAAA,EAAA;AACA;AACA,UAAA,MAAA,GAAA,KAAA,UAAA,CAAA,OAAA,CAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,CAAA,MAAA,CAAA,SAAA;AACA,KAZA;AAaA;AACA,IAAA,QAdA,oBAcA,KAdA,EAcA,MAdA,EAcA;AACA,aAAA,KAAA,KAAA,CAAA,IAAA,MAAA,CAAA,QAAA,IAAA,MAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA;AACA;AAhBA;AAnCA,CAAA","sourcesContent":["<template>\n  <el-table :data=\"formatData\" :row-style=\"showRow\" v-bind=\"$attrs\">  <!--v-bind=\"$attrs\" 会把非prop的属性 作为属性添加到标签属性上去-->\n    <el-table-column align=\"center\" header-align=\"center\" type=\"index\" label=\"序号\" />\n    <el-table-column v-if=\"columns.length===0\" align=\"center\" header-align=\"center\" width=\"150\" label=\"资源名称\">\n      <template slot-scope=\"scope\">\n        <span v-for=\"space in scope.row._level\" :key=\"space\" class=\"ms-tree-space\" />\n        <span v-if=\"iconShow(0,scope.row)\" class=\"tree-ctrl\" @click=\"toggleExpanded(scope.$index)\">\n          <i v-if=\"!scope.row._expanded\" class=\"el-icon-plus\" />\n          <i v-else class=\"el-icon-minus\" />\n        </span>\n        {{ scope.row['name'] }}\n      </template>\n    </el-table-column>\n    <el-table-column v-for=\"(column, index) in columns\" v-else :key=\"column.value\" align=\"center\" header-align=\"center\" :label=\"column.text\" :width=\"column.width\">\n      <template slot-scope=\"scope\">\n        <!-- Todo -->\n        <!-- eslint-disable-next-line vue/no-confusing-v-for-v-if -->\n        <span v-for=\"space in scope.row._level\" v-if=\"index === 0\" :key=\"space\" class=\"ms-tree-space\" />\n        <span v-if=\"iconShow(index,scope.row)\" class=\"tree-ctrl\" @click=\"toggleExpanded(scope.$index)\">\n          <i v-if=\"!scope.row._expanded\" class=\"el-icon-plus\" />\n          <i v-else class=\"el-icon-minus\" />\n        </span>\n        {{ scope.row[column.value] }}\n      </template>\n    </el-table-column>\n    <slot />\n  </el-table>\n</template>\n\n<script>\n/**\n  Auth: Lei.j1ang\n  Created: 2018/1/19-13:59\n*/\nimport treeToArray from './eval'\nexport default {\n  name: 'TreeTable',\n  props: {\n    /* eslint-disable */\n    data: {\n      type: [Array, Object],\n      required: true\n    },\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    evalFunc: Function,\n    evalArgs: Array,\n    expandAll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    // 格式化数据源\n    formatData: function() {\n      // debugger\n      let tmp\n      if (!Array.isArray(this.data)) {\n        tmp = [this.data]\n      } else {\n        tmp = this.data\n      }\n      const func = this.evalFunc || treeToArray\n      // const args = this.evalArgs ? Array.concat([tmp, this.expandAll], this.evalArgs) : [tmp, this.expandAll]\n       const args = this.evalArgs ? [tmp, this.expandAll].concat(this.evalArgs) : [tmp, this.expandAll]\n      return func.apply(null, args)\n    }\n  },\n  methods: {\n    showRow: function(row) {\n      // debugger\n      const show = (row.row.parent ? (row.row.parent._expanded && row.row.parent._show) : true)\n      row.row._show = show\n      return show ? 'animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;' : 'display:none;'\n    },\n    // 切换下级是否展开\n    toggleExpanded: function(trIndex) {\n      // debugger\n      const record = this.formatData[trIndex]\n      record._expanded = !record._expanded\n    },\n    // 图标显示\n    iconShow(index, record) {\n      return (index === 0 && record.children && record.children.length > 0)\n    }\n  }\n}\n</script>\n<style rel=\"stylesheet/css\">\n  @keyframes treeTableShow {\n    from {opacity: 0;}\n    to {opacity: 1;}\n  }\n  @-webkit-keyframes treeTableShow {\n    from {opacity: 0;}\n    to {opacity: 1;}\n  }\n</style>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  $color-blue: #2196F3;\n  $space-width: 18px;\n  .ms-tree-space {\n    position: relative;\n    top: 1px;\n    display: inline-block;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1;\n    width: $space-width;\n    height: 14px;\n    &::before {\n      content: \"\"\n    }\n  }\n  .processContainer{\n    width: 100%;\n    height: 100%;\n  }\n  table td {\n    line-height: 26px;\n  }\n\n  .tree-ctrl{\n    position: relative;\n    cursor: pointer;\n    color: $color-blue;\n    margin-left: -$space-width;\n  }\n</style>\n"],"sourceRoot":"src/components/TreeTable"}]}