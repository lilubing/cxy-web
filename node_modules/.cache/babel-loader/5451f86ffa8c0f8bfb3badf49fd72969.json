{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js!/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/work/webworkspace/cxy-web/src/views/system/user/EditForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/views/system/user/EditForm.vue","mtime":1610414168569},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JyovCmltcG9ydCB7IGdldFVzZXJSb2xlSW5mbywgdXBkYXRlVXNlciB9IGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZEZyb20nLAogIHByb3BzOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL3JlcXVpcmUtZGVmYXVsdC1wcm9wCiAgICAndXNlcklkJzogTnVtYmVyLAogICAgJ3Zpc2FibGUnOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9sZXM6IFtdLAogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcjogewogICAgICAgICAgdXNlck5hbWU6ICcnLAogICAgICAgICAgcGhvbmU6ICcnLAogICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgbmlrZU5hbWU6ICcnLAogICAgICAgICAgc2V4OiAwCiAgICAgICAgfSwKICAgICAgICByb2xlc0xpc3Q6IFtdCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcjogewogICAgICAgICAgdXNlck5hbWU6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95Li656m6JywKICAgICAgICAgICAgdHJpZ2dlcjogYmx1cgogICAgICAgICAgfSwgewogICAgICAgICAgICBtaW46IDEsCiAgICAgICAgICAgIG1heDogOCwKICAgICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCA1IOS4quWtl+espicsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgfV0sCiAgICAgICAgICBlbWFpbDogW3sKICAgICAgICAgICAgdHlwZTogJ2VtYWlsJywKICAgICAgICAgICAgLy8g6KaB5qOA6aqM55qE57G75Z6L77yIbnVtYmVy77yMZW1haWzvvIxkYXRl562J77yJCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTpgq7nrrHlnLDlnYAnLAogICAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10sCiAgICAgICAgICAgIC8vIGhhbmdl5Li65qOA6aqM55qE5a2X56ym5Y+Y5YyW55qE5pe25YCZCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgICB9XSwKICAgICAgICAgIHBob25lOiBbewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgcGF0dGVybjogL14xWzM0NTc4XVxkezl9JC8sCiAgICAgICAgICAgIC8vIOWPr+S7peWGmeato+WImeihqOi+vuW8jwogICAgICAgICAgICBtZXNzYWdlOiAn55uu5YmN5Y+q5pSv5oyB5Lit5Zu95aSn6ZmG55qE5omL5py65Y+356CBJywKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgcm9sZXNMaXN0OiBbewogICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+iHs+WwkemAieaLqeS4gOS4quinkuiJsicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGZvcm0pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB1cGRhdGVVc2VyKF90aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzLmhhbmRsZUhpZGUoKTsKCiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8nLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdnZXRVc2VyTGlzdCcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUhpZGU6IGZ1bmN0aW9uIGhhbmRsZUhpZGUoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUVkaXRIaWRlJyk7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGdldFVzZXJSb2xlSW5mbyh0aGlzLnVzZXJJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICB0aGF0LnJvbGVzID0gZGF0YS5yb2xlczsKICAgICAgICAgIHRoYXQuZm9ybSA9IGRhdGEuZm9ybTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfQogIC8qIGNvbXB1dGVkOnsKICAgICAgLi4ubWFwR2V0dGVycyhbJ3Zpc2FibGUnXSkKICAgIH0qLwoKfTs="},{"version":3,"sources":["EditForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-dialog\n    title=\"编辑\"\n    :visible=\"visable\"\n    width=\"40%\"\n    :modal=\"false\"\n    :show-close=\"false\"\n  >\n    <!--   ref=\"form\"-->\n    <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"80px\">\n      <el-form-item label=\"用户名\" prop=\"user.userName\">\n        <el-input v-model=\"form.user.userName\" />\n      </el-form-item>\n      <!-- <el-form-item label=\"密码\">\n        <el-input v-model=\"form.user.passWord\"></el-input>\n      </el-form-item>-->\n      <el-form-item label=\"手机号\" prop=\"user.phone\">\n        <el-input v-model=\"form.user.phone\" />\n      </el-form-item>\n      <el-form-item label=\"邮件\" prop=\"user.email\">\n        <el-input v-model=\"form.user.email\" />\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input v-model=\"form.user.nikeName\" />\n      </el-form-item>\n      <el-form-item label=\"性别\">\n        <el-radio-group v-model=\"form.user.sex\">\n          <el-radio border :label=\"0\">男</el-radio>\n          <el-radio border :label=\"1\">女</el-radio>\n        </el-radio-group>\n        <!--label=\"男\"-->\n      </el-form-item>\n\n      <el-form-item label=\"角色\" prop=\"rolesList\">\n        <el-select v-model=\"form.rolesList\" filterable multiple placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in roles\"\n            :key=\"item.roleId\"\n            :label=\"item.remark\"\n            :value=\"item.roleId\"\n          />\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"handleHide\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit('form')\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\n/* import { mapGetters } from 'vuex'*/\nimport { getUserRoleInfo, updateUser } from '@/api/user'\nexport default {\n  name: 'AddFrom',\n  props: {\n    // eslint-disable-next-line vue/require-default-prop\n    'userId': Number,\n    'visable': Boolean\n  },\n  data() {\n    return {\n      roles: [],\n      form: {\n        user: {\n          userName: '',\n          phone: '',\n          email: '',\n          nikeName: '',\n          sex: 0\n        },\n        rolesList: []\n      },\n      rules: {\n        user: {\n          userName: [\n            { required: true, message: '用户名不能为空', trigger: blur },\n            { min: 1, max: 8, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n          ],\n          email: [\n            { type: 'email', // 要检验的类型（number，email，date等）\n              message: '请输入正确的邮箱地址',\n              trigger: ['blur', 'change'], // hange为检验的字符变化的时候\n              required: true\n            }\n          ],\n          phone: [\n            {\n              required: true,\n              pattern: /^1[34578]\\d{9}$/, // 可以写正则表达式\n              message: '目前只支持中国大陆的手机号码',\n              trigger: 'blur'\n            }\n          ]\n        },\n        rolesList: [\n          { type: 'array', required: true, message: '请至少选择一个角色', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    this.getUserInfo()\n  },\n  methods: {\n    handleSubmit(form) {\n      this.$refs[form].validate((valid) => {\n        if (valid) {\n          updateUser(this.form).then((response) => {\n            this.handleHide()\n            const data = response.data\n            if (data.code === 200) {\n              this.$message({\n                showClose: true,\n                message: '修改成功',\n                type: 'success'\n              })\n              this.$emit('getUserList')\n            }\n          }).catch(error => {\n            console.log(error)\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    handleHide() {\n      this.$emit('handleEditHide')\n    },\n    getUserInfo() {\n      const that = this\n      getUserRoleInfo(this.userId).then((response) => {\n        const data = response.data\n        if (data.code == 200) {\n          that.roles = data.roles\n          that.form = data.form\n        }\n      }).catch(error => {\n        console.log(error)\n      })\n    }\n  }\n  /* computed:{\n      ...mapGetters(['visable'])\n    }*/\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/views/system/user"}]}