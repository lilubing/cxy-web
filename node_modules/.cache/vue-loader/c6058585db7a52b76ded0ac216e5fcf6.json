{"remainingRequest":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/work/webworkspace/cxy-web/src/components/TreeTable/index.vue?vue&type=style&index=0&rel=stylesheet%2Fcss&lang=css&","dependencies":[{"path":"/Users/work/webworkspace/cxy-web/src/components/TreeTable/index.vue","mtime":1610781046936},{"path":"/Users/work/webworkspace/cxy-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/work/webworkspace/cxy-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBrZXlmcmFtZXMgdHJlZVRhYmxlU2hvdyB7CiAgZnJvbSB7b3BhY2l0eTogMDt9CiAgdG8ge29wYWNpdHk6IDE7fQp9CkAtd2Via2l0LWtleWZyYW1lcyB0cmVlVGFibGVTaG93IHsKICBmcm9tIHtvcGFjaXR5OiAwO30KICB0byB7b3BhY2l0eTogMTt9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/TreeTable","sourcesContent":["<template>\n  <el-table :data=\"formatData\" :row-style=\"showRow\" v-bind=\"$attrs\">  <!--v-bind=\"$attrs\" 会把非prop的属性 作为属性添加到标签属性上去-->\n    <el-table-column align=\"center\" header-align=\"center\" type=\"index\" label=\"序号\" />\n    <el-table-column v-if=\"columns.length===0\" align=\"center\" header-align=\"center\" width=\"150\" label=\"资源名称\">\n      <template slot-scope=\"scope\">\n        <span v-for=\"space in scope.row._level\" :key=\"space\" class=\"ms-tree-space\" />\n        <span v-if=\"iconShow(0,scope.row)\" class=\"tree-ctrl\" @click=\"toggleExpanded(scope.$index)\">\n          <i v-if=\"!scope.row._expanded\" class=\"el-icon-plus\" />\n          <i v-else class=\"el-icon-minus\" />\n        </span>\n        {{ scope.row['name'] }}\n      </template>\n    </el-table-column>\n    <el-table-column v-for=\"(column, index) in columns\" v-else :key=\"column.value\" align=\"center\" header-align=\"center\" :label=\"column.text\" :width=\"column.width\">\n      <template slot-scope=\"scope\">\n        <!-- Todo -->\n        <!-- eslint-disable-next-line vue/no-confusing-v-for-v-if -->\n        <span v-for=\"space in scope.row._level\" v-if=\"index === 0\" :key=\"space\" class=\"ms-tree-space\" />\n        <span v-if=\"iconShow(index,scope.row)\" class=\"tree-ctrl\" @click=\"toggleExpanded(scope.$index)\">\n          <i v-if=\"!scope.row._expanded\" class=\"el-icon-plus\" />\n          <i v-else class=\"el-icon-minus\" />\n        </span>\n        {{ scope.row[column.value] }}\n      </template>\n    </el-table-column>\n    <slot />\n  </el-table>\n</template>\n\n<script>\n/**\n  Auth: Lei.j1ang\n  Created: 2018/1/19-13:59\n*/\nimport treeToArray from './eval'\nexport default {\n  name: 'TreeTable',\n  props: {\n    /* eslint-disable */\n    data: {\n      type: [Array, Object],\n      required: true\n    },\n    columns: {\n      type: Array,\n      default: () => []\n    },\n    evalFunc: Function,\n    evalArgs: Array,\n    expandAll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    // 格式化数据源\n    formatData: function() {\n      // debugger\n      let tmp\n      if (!Array.isArray(this.data)) {\n        tmp = [this.data]\n      } else {\n        tmp = this.data\n      }\n      const func = this.evalFunc || treeToArray\n      // const args = this.evalArgs ? Array.concat([tmp, this.expandAll], this.evalArgs) : [tmp, this.expandAll]\n       const args = this.evalArgs ? [tmp, this.expandAll].concat(this.evalArgs) : [tmp, this.expandAll]\n      return func.apply(null, args)\n    }\n  },\n  methods: {\n    showRow: function(row) {\n      // debugger\n      const show = (row.row.parent ? (row.row.parent._expanded && row.row.parent._show) : true)\n      row.row._show = show\n      return show ? 'animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;' : 'display:none;'\n    },\n    // 切换下级是否展开\n    toggleExpanded: function(trIndex) {\n      // debugger\n      const record = this.formatData[trIndex]\n      record._expanded = !record._expanded\n    },\n    // 图标显示\n    iconShow(index, record) {\n      return (index === 0 && record.children && record.children.length > 0)\n    }\n  }\n}\n</script>\n<style rel=\"stylesheet/css\">\n  @keyframes treeTableShow {\n    from {opacity: 0;}\n    to {opacity: 1;}\n  }\n  @-webkit-keyframes treeTableShow {\n    from {opacity: 0;}\n    to {opacity: 1;}\n  }\n</style>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  $color-blue: #2196F3;\n  $space-width: 18px;\n  .ms-tree-space {\n    position: relative;\n    top: 1px;\n    display: inline-block;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1;\n    width: $space-width;\n    height: 14px;\n    &::before {\n      content: \"\"\n    }\n  }\n  .processContainer{\n    width: 100%;\n    height: 100%;\n  }\n  table td {\n    line-height: 26px;\n  }\n\n  .tree-ctrl{\n    position: relative;\n    cursor: pointer;\n    color: $color-blue;\n    margin-left: -$space-width;\n  }\n</style>\n"]}]}